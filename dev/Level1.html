<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Constraints · OREnvironment.jl</title><script data-outdated-warner src="assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.039/juliamono-regular.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.11/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="assets/documenter.js"></script><script src="siteinfo.js"></script><script src="../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="index.html">OREnvironment.jl</a></span></div><form class="docs-search" action="search.html"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="index.html">Home</a></li><li class="is-active"><a class="tocitem" href="Level1.html">Constraints</a><ul class="internal"><li><a class="tocitem" href="#Building-constraints-as-in-practice"><span>Building constraints as in practice</span></a></li><li><a class="tocitem" href="#Some-technical-details"><span>Some technical details</span></a></li><li><a class="tocitem" href="#Methods-for-constraints"><span>Methods for constraints</span></a></li></ul></li><li><a class="tocitem" href="Level2.html">Problem environment</a></li><li><a class="tocitem" href="Level3.html">Status</a></li><li><a class="tocitem" href="Level4.html">Solutions</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href="Level1.html">Constraints</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href="Level1.html">Constraints</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/DavidGarHeredia/OREnvironment.jl/blob/master/docs/src/Level1.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Constraints"><a class="docs-heading-anchor" href="#Constraints">Constraints</a><a id="Constraints-1"></a><a class="docs-heading-anchor-permalink" href="#Constraints" title="Permalink"></a></h1><p>By default, the package provides a struct to handle constraints. For each constraint, the following information is saved:</p><ul><li>The value of the right-hand side.</li><li>The type of the constraint (&lt;=, = or &gt;=). </li><li>The variables (indexes) and coefficients making the left-hand side of the constraint.</li></ul><p>With respect to the type of constraint, this is specified as a symbol. Specifically, the valid values are <code>:lessOrEq</code>, <code>:equal</code> or <code>:greaterOrEq</code>.</p><p>So for instance, if our MILP problem had the following constraint:</p><p class="math-container">\[x_1 + 2x_3 - 4x_7 + 3x_9 \leq 17 \]</p><p>We would build it as follows:</p><pre><code class="language-julia">vars1   = [1, 3, 7, 9];
coeffs1 = [1.0, 2.0, -4.0, 3.0]; 
rhs1 = 17.0; 
myConstraint1 = OREnvironment.constructConstraint(rhs1, :lessOrEq, vars1, coeffs1);</code></pre><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>The coefficients and right-hand side values of the constraints must be specified as Float64 numbers. I used to have that as a template so other types (e.g, Int) could be considered. However, I changed my mind and mimic the behavior of <a href="https://www.gurobi.com/">Gurobi</a>, which apparently (maybe I missed something) only works with Float64 numbers. </p></div></div><p>As a final example, imagine that in your problem you also had the constraint </p><p class="math-container">\[5.3x_3 - 4x_4 \geq 5 \]</p><p>Then, you would have to build it as follows:</p><pre><code class="language-julia">vars2   = [3, 4];
coeffs2 = [5.3, -4.0]; 
rhs2 = 5.0; 
myConstraint2 = OREnvironment.constructConstraint(rhs2, :greaterOrEq, vars2, coeffs2);</code></pre><p>If for any reason this default constraint structure doesn&#39;t fulfill your needs, you can always define a new type of constraint while reusing most of the methods available for the default version. See further discussion later on this page.</p><h2 id="Building-constraints-as-in-practice"><a class="docs-heading-anchor" href="#Building-constraints-as-in-practice">Building constraints as in practice</a><a id="Building-constraints-as-in-practice-1"></a><a class="docs-heading-anchor-permalink" href="#Building-constraints-as-in-practice" title="Permalink"></a></h2><p>In most cases, you don&#39;t build constraints one by one as shown above, but you read them from a file or some data structure. Let&#39;s see how this can accomplish in OREnvironment. We show two different ways. One will be more useful than the other depending on the situation.</p><h4 id="Option-1"><a class="docs-heading-anchor" href="#Option-1">Option 1</a><a id="Option-1-1"></a><a class="docs-heading-anchor-permalink" href="#Option-1" title="Permalink"></a></h4><p>Imagine that we have the information about the constraints (variables, coefficients, etc) stored in a dataframe of N rows. Then we will create the constraints as follows:</p><pre><code class="language-julia">constraints = Array{OREnvironment.Constraint, 1}(); # vector of constraints
for i in 1:N
  c = OREnvironment.constructConstraint(df.rhs[i], df.symbol[i], df.vars[i], df.coefs[i]);
  push!(constraints, c);
end</code></pre><h4 id="Option-2"><a class="docs-heading-anchor" href="#Option-2">Option 2</a><a id="Option-2-1"></a><a class="docs-heading-anchor-permalink" href="#Option-2" title="Permalink"></a></h4><p>On some occasions, you will have your constraints stored in a text file. Then, you can load the constraints as follows:</p><pre><code class="language-julia">file = &quot;NameOfTheFileWithTheConstraints.txt&quot;
constraints = OREnvironment.read_constraints(file);</code></pre><p>For an example (which I highly recommed you to read), check the file <em>./test/sampleConstraints.txt</em> and the <code>@testset &quot;read_constraints&quot;</code> in file  <em>./test/Constraints.jl</em></p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>Function <code>OREnvironment.read_constraints()</code> makes some important assumptions in the file to read:</p><ol><li>In the file, the constraints are separated by a newline. That is, no comma or other character appears at the end of each line.</li><li>In the file, all the variables are named as &quot;x&quot;. To distinguish between variables an index is added. So for instance, if your constraint were <span>$2x + 3y + 5 z &gt;= 12$</span>, you should write in your file: 2x1 + 3x2 + 5x3 &gt;= 12.</li><li>All the variables must have a coefficient multiplying them. That is, if your constraint is of type <span>$x_1 + x_2 \leq 3$</span> you must write 1 as a coefficient. So your constraint in the file looks like: 1x1 + 1x2 &lt;= 3. </li><li>All the terms in the left-hand side are adding. Negative symbols are for the numbers. So for instance, if your constraint were <span>$4x_3 -5.3x_{12} + x_{152} = 3$</span>, in your file you should write: 4x3 + -5.3x12 + 1x152 = 3.</li></ol></div></div><h2 id="Some-technical-details"><a class="docs-heading-anchor" href="#Some-technical-details">Some technical details</a><a id="Some-technical-details-1"></a><a class="docs-heading-anchor-permalink" href="#Some-technical-details" title="Permalink"></a></h2><p>The type of constraint considered by default is called <code>OREnvironment.DefaultConstraint</code>, which inherits from <code>OREnvironment.Constraint</code>. So you can define your own type of constraint and reuse most of the code (if not all) available for <code>OREnvironment.Constraint</code> by using inheritance.</p><p>An interesting feature of <code>OREnvironment.DefaultConstraint</code> is that, although it just asks for the variables and coefficients making the left-hand side of a constraint, it handles this information in a special way. It saves the information distinguishing between variables with a positive coefficient and variables with a negative one. This is an idea that I read from a paper by the people of <a href="https://www.localsolver.com/">LocalSolver</a>, which is particularly useful to develop black-box solver methods. The relationship between variables and coefficients is saved in a Julia dictionary for fast access.</p><p>For more information you can always check the source code <em>/src/Constraints.jl</em>.</p><h2 id="Methods-for-constraints"><a class="docs-heading-anchor" href="#Methods-for-constraints">Methods for constraints</a><a id="Methods-for-constraints-1"></a><a class="docs-heading-anchor-permalink" href="#Methods-for-constraints" title="Permalink"></a></h2><p>We finish this part of the documentation showing the methods available to deal with constraints.</p><ul><li><a href="Level1.html#OREnvironment.compute_lhs-Tuple{OREnvironment.Constraint, OREnvironment.Solution}"><code>OREnvironment.compute_lhs</code></a></li><li><a href="Level1.html#OREnvironment.compute_lhs_after_increment-Tuple{Int64, Real, Float64, OREnvironment.Constraint}"><code>OREnvironment.compute_lhs_after_increment</code></a></li><li><a href="Level1.html#OREnvironment.constructConstraint-Tuple{Float64, Symbol, Vector{Int64}, Vector{Float64}}"><code>OREnvironment.constructConstraint</code></a></li><li><a href="Level1.html#OREnvironment.get_coefficient-Tuple{OREnvironment.Constraint, Int64}"><code>OREnvironment.get_coefficient</code></a></li><li><a href="Level1.html#OREnvironment.get_relationship_variables_constraints-Tuple{Vector{var&quot;#s1&quot;} where var&quot;#s1&quot;&lt;:OREnvironment.Constraint, Int64}"><code>OREnvironment.get_relationship_variables_constraints</code></a></li><li><a href="Level1.html#OREnvironment.get_rhs-Tuple{OREnvironment.Constraint}"><code>OREnvironment.get_rhs</code></a></li><li><a href="Level1.html#OREnvironment.get_type-Tuple{OREnvironment.Constraint}"><code>OREnvironment.get_type</code></a></li><li><a href="Level1.html#OREnvironment.is_active-Tuple{OREnvironment.Constraint, OREnvironment.Solution}"><code>OREnvironment.is_active</code></a></li><li><a href="Level1.html#OREnvironment.is_active-Tuple{OREnvironment.Constraint, Float64}"><code>OREnvironment.is_active</code></a></li><li><a href="Level1.html#OREnvironment.is_active_under_current_consumption-Tuple{OREnvironment.Constraint, Int64, OREnvironment.Solution}"><code>OREnvironment.is_active_under_current_consumption</code></a></li><li><a href="Level1.html#OREnvironment.is_current_consumption_feasible-Tuple{OREnvironment.Solution, Vector{var&quot;#s1&quot;} where var&quot;#s1&quot;&lt;:OREnvironment.Constraint}"><code>OREnvironment.is_current_consumption_feasible</code></a></li><li><a href="Level1.html#OREnvironment.is_feasible-Tuple{OREnvironment.Solution, Vector{var&quot;#s1&quot;} where var&quot;#s1&quot;&lt;:OREnvironment.Constraint}"><code>OREnvironment.is_feasible</code></a></li><li><a href="Level1.html#OREnvironment.is_feasible-Tuple{OREnvironment.Constraint, Float64}"><code>OREnvironment.is_feasible</code></a></li><li><a href="Level1.html#OREnvironment.is_increment_feasible-Tuple{OREnvironment.Solution, Vector{var&quot;#s1&quot;} where var&quot;#s1&quot;&lt;:OREnvironment.Constraint, Int64, Real, Vector{Int64}}"><code>OREnvironment.is_increment_feasible</code></a></li><li><a href="Level1.html#OREnvironment.is_increment_feasible-Tuple{Int64, Real, Float64, OREnvironment.Constraint}"><code>OREnvironment.is_increment_feasible</code></a></li><li><a href="Level1.html#OREnvironment.is_variable-Tuple{OREnvironment.Constraint, Int64}"><code>OREnvironment.is_variable</code></a></li><li><a href="Level1.html#OREnvironment.read_constraints-Tuple{String}"><code>OREnvironment.read_constraints</code></a></li><li><a href="Level1.html#OREnvironment.set_coefficient!-Tuple{OREnvironment.Constraint, Int64, Float64}"><code>OREnvironment.set_coefficient!</code></a></li><li><a href="Level1.html#OREnvironment.set_rhs!-Tuple{OREnvironment.Constraint, Float64}"><code>OREnvironment.set_rhs!</code></a></li><li><a href="Level1.html#OREnvironment.set_type!-Tuple{OREnvironment.Constraint, Symbol}"><code>OREnvironment.set_type!</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="OREnvironment.constructConstraint-Tuple{Float64, Symbol, Vector{Int64}, Vector{Float64}}" href="#OREnvironment.constructConstraint-Tuple{Float64, Symbol, Vector{Int64}, Vector{Float64}}"><code>OREnvironment.constructConstraint</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">constructConstraint(rhs, t, vars, coefs)</code></pre><p>Constructs a <code>DefaultConstraint</code> with right-hand side <code>rhs</code>, type <code>t</code> and left-hand side given by the variables in <code>vars</code> and coefficients in <code>coefs</code>.</p><p><strong>Note:</strong> Both, the rhs and coefs must be of type Float64.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; OREnvironment.constructConstraint(12.0, :lessOrEq, [1, 3, 12, 33], [2.0, 5.0, 3.0, 1.0]);</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DavidGarHeredia/OREnvironment.jl/blob/9caddec985d9dcaadb8faa53db9cfa98b110ecda/src/Constraints.jl#L9-L20">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OREnvironment.get_rhs-Tuple{OREnvironment.Constraint}" href="#OREnvironment.get_rhs-Tuple{OREnvironment.Constraint}"><code>OREnvironment.get_rhs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">get_rhs(c)</code></pre><p>Returns the right-hand side value of constraint <code>c</code></p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; c = OREnvironment.constructConstraint(12.0, :lessOrEq, [1, 3, 12, 33], [2.0, 5.0, 3.0, 1.0]);
julia&gt; OREnvironment.get_rhs(c)
12.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DavidGarHeredia/OREnvironment.jl/blob/9caddec985d9dcaadb8faa53db9cfa98b110ecda/src/Constraints.jl#L37-L48">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OREnvironment.set_rhs!-Tuple{OREnvironment.Constraint, Float64}" href="#OREnvironment.set_rhs!-Tuple{OREnvironment.Constraint, Float64}"><code>OREnvironment.set_rhs!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">set_rhs!(c, val)</code></pre><p>Sets the right-hand side value of constraint <code>c</code> to <code>val</code></p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; c = OREnvironment.constructConstraint(12.0, :lessOrEq, [1, 3, 12, 33], [2.0, 5.0, 3.0, 1.0]);
julia&gt; OREnvironment.set_rhs!(c, 25.0); 
julia&gt; OREnvironment.get_rhs(c)
25.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DavidGarHeredia/OREnvironment.jl/blob/9caddec985d9dcaadb8faa53db9cfa98b110ecda/src/Constraints.jl#L51-L63">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OREnvironment.get_type-Tuple{OREnvironment.Constraint}" href="#OREnvironment.get_type-Tuple{OREnvironment.Constraint}"><code>OREnvironment.get_type</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">get_type(c)</code></pre><p>Returns the constraint type of <code>c</code>. Admisible values are :lessOrEq, :equal and :greaterOrEq.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; c = OREnvironment.constructConstraint(12.0, :lessOrEq, [1, 3, 12, 33], [2.0, 5.0, 3.0, 1.0]);
julia&gt; OREnvironment.get_type(c)
:lessOrEq</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DavidGarHeredia/OREnvironment.jl/blob/9caddec985d9dcaadb8faa53db9cfa98b110ecda/src/Constraints.jl#L66-L77">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OREnvironment.set_type!-Tuple{OREnvironment.Constraint, Symbol}" href="#OREnvironment.set_type!-Tuple{OREnvironment.Constraint, Symbol}"><code>OREnvironment.set_type!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">set_type!(c, val)</code></pre><p>Sets the constraint type of <code>c</code> to <code>val</code>. Admisible values are :lessOrEq, :equal and :greaterOrEq.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; c = OREnvironment.constructConstraint(12.0, :lessOrEq, [1, 3, 12, 33], [2.0, 5.0, 3.0, 1.0]);
julia&gt; OREnvironment.set_type!(c, :greaterOrEq);
julia&gt; OREnvironment.get_type(c)
:greaterOrEq</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DavidGarHeredia/OREnvironment.jl/blob/9caddec985d9dcaadb8faa53db9cfa98b110ecda/src/Constraints.jl#L80-L92">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OREnvironment.is_variable-Tuple{OREnvironment.Constraint, Int64}" href="#OREnvironment.is_variable-Tuple{OREnvironment.Constraint, Int64}"><code>OREnvironment.is_variable</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">is_variable(c, var)</code></pre><p>Returns true if variable <code>var</code> is in constraint <code>c</code>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; c = OREnvironment.constructConstraint(12.0, :lessOrEq, [1, 3, 12, 33], [2.0, 5.0, 3.0, 1.0]);
julia&gt; OREnvironment.is_variable(c, 33)
true
julia&gt; OREnvironment.is_variable(c, 13)
false</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DavidGarHeredia/OREnvironment.jl/blob/9caddec985d9dcaadb8faa53db9cfa98b110ecda/src/Constraints.jl#L95-L108">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OREnvironment.get_coefficient-Tuple{OREnvironment.Constraint, Int64}" href="#OREnvironment.get_coefficient-Tuple{OREnvironment.Constraint, Int64}"><code>OREnvironment.get_coefficient</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">get_coefficient(c, var)</code></pre><p>Returns the coefficient of variable <code>var</code> in constraint <code>c</code>. If the variable is not in the constraint it returns 0.0;</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; c = OREnvironment.constructConstraint(12.0, :lessOrEq, [1, 3, 12, 33], [2.0, 5.0, 3.0, 1.0]);
julia&gt; OREnvironment.get_coefficient(c, 33)
1.0
julia&gt; OREnvironment.get_coefficient(c, 3)
5.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DavidGarHeredia/OREnvironment.jl/blob/9caddec985d9dcaadb8faa53db9cfa98b110ecda/src/Constraints.jl#L115-L129">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OREnvironment.set_coefficient!-Tuple{OREnvironment.Constraint, Int64, Float64}" href="#OREnvironment.set_coefficient!-Tuple{OREnvironment.Constraint, Int64, Float64}"><code>OREnvironment.set_coefficient!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">set_coefficient!(c, var, coef)</code></pre><p>Sets in constraint <code>c</code> coefficient <code>coef</code> for variable <code>var</code>. </p><p><strong>Note:</strong> If the variable was not in the constraint, it is added to it. Note that the vector that relates variables and constraints in the <code>Problem</code> struct is not updated when calling this adding a variable using this method!</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; c = OREnvironment.constructConstraint(12.0, :lessOrEq, [1, 3, 12, 33], [2.0, 5.0, 3.0, 1.0]);
julia&gt; OREnvironment.set_coefficient!(c, 33, 123.0);
julia&gt; OREnvironment.get_coefficient(c, 33)
123.0</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DavidGarHeredia/OREnvironment.jl/blob/9caddec985d9dcaadb8faa53db9cfa98b110ecda/src/Constraints.jl#L138-L152">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OREnvironment.get_relationship_variables_constraints-Tuple{Vector{var&quot;#s1&quot;} where var&quot;#s1&quot;&lt;:OREnvironment.Constraint, Int64}" href="#OREnvironment.get_relationship_variables_constraints-Tuple{Vector{var&quot;#s1&quot;} where var&quot;#s1&quot;&lt;:OREnvironment.Constraint, Int64}"><code>OREnvironment.get_relationship_variables_constraints</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">get_relationship_variables_constraints(vconstraints, nVariables)</code></pre><p>Given an Array of constraints <code>vconstraints</code> and the number of variables in the problem, returns an Array where the i-th element is an Array with the indexes of the constraints where the i-th variable appears.</p><p>This function is employed in the <code>Problem</code> struct so it is possible to quickly identify what constraints in the problem are affected when a variable changes its value. This permits faster updates of the left-hand side value associated to a given solution.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; c1 = OREnvironment.constructConstraint(12.0, :lessOrEq, [1, 3, 4], [2.0, 5.0, 3.0]);
julia&gt; c2 = OREnvironment.constructConstraint(5.0, :equal, [2, 3, 5], [9.0, 1.0, 7.0]);
julia&gt; constraints = [c1, c2];
julia&gt; nVariables = 5;
julia&gt; OREnvironment.get_relationship_variables_constraints(constraints, nVariables)
5-element Array{Array{Int64,1},1}:
 [1]
 [2]
 [1, 2]
 [1]
 [2]
 # So variable 1 appears in constraint 1, variable 2 in constraint 2, 
 # variable 3 in constraints 1 and 2...</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DavidGarHeredia/OREnvironment.jl/blob/9caddec985d9dcaadb8faa53db9cfa98b110ecda/src/Constraints.jl#L162-L185">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OREnvironment.read_constraints-Tuple{String}" href="#OREnvironment.read_constraints-Tuple{String}"><code>OREnvironment.read_constraints</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">read_constraints(file)</code></pre><p>Returns an Array of constraints. The constraints are read from <code>file</code>.</p><p>See example in the file with the tests: <em>./test/Constraints.jl</em>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DavidGarHeredia/OREnvironment.jl/blob/9caddec985d9dcaadb8faa53db9cfa98b110ecda/src/Constraints.jl#L208-L214">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OREnvironment.is_feasible-Tuple{OREnvironment.Constraint, Float64}" href="#OREnvironment.is_feasible-Tuple{OREnvironment.Constraint, Float64}"><code>OREnvironment.is_feasible</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">is_feasible(c, lhs)</code></pre><p>Given a constraint <code>c</code>, returns if the left-hand side consumption <code>lhs</code> is feasible or not.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; c = OREnvironment.constructConstraint(12.0, :lessOrEq, [1, 3, 4], [2.0, 5.0, 3.0]);
julia&gt; OREnvironment.is_feasible(c, 6.0)
true
julia&gt; OREnvironment.is_feasible(c, 16.0)
false</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DavidGarHeredia/OREnvironment.jl/blob/9caddec985d9dcaadb8faa53db9cfa98b110ecda/src/Constraints.jl#L258-L271">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OREnvironment.is_active-Tuple{OREnvironment.Constraint, Float64}" href="#OREnvironment.is_active-Tuple{OREnvironment.Constraint, Float64}"><code>OREnvironment.is_active</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">is_active(c, lhs)</code></pre><p>Given a constraint <code>c</code>, returns if the left-hand side consumption <code>lhs</code> makes the constraint active or not.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; c = OREnvironment.constructConstraint(12.0, :lessOrEq, [1, 3, 4], [2.0, 5.0, 3.0]);
julia&gt; OREnvironment.is_active(c, 6.0)
false
julia&gt; OREnvironment.is_active(c, 12.0)
true</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DavidGarHeredia/OREnvironment.jl/blob/9caddec985d9dcaadb8faa53db9cfa98b110ecda/src/Constraints.jl#L277-L290">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OREnvironment.compute_lhs_after_increment-Tuple{Int64, Real, Float64, OREnvironment.Constraint}" href="#OREnvironment.compute_lhs_after_increment-Tuple{Int64, Real, Float64, OREnvironment.Constraint}"><code>OREnvironment.compute_lhs_after_increment</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">compute_lhs_after_increment(var, Δ, currentLHS, c)</code></pre><p>For a change of <code>Δ</code> in the value of variable <code>var</code>, returns the new left-hand side consumption in constraint <code>c</code> given the current consumption <code>currentLHS</code>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; c = OREnvironment.constructConstraint(12.0, :lessOrEq, [1, 3, 4], [2.0, 5.0, 3.0]);
julia&gt; Δ = 3; currentLHS = 9.0;
julia&gt; OREnvironment.compute_lhs_after_increment(1, Δ, currentLHS, c)
15.0 # = 2*Δ + currentLHS</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DavidGarHeredia/OREnvironment.jl/blob/9caddec985d9dcaadb8faa53db9cfa98b110ecda/src/Constraints.jl#L293-L306">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OREnvironment.is_increment_feasible-Tuple{Int64, Real, Float64, OREnvironment.Constraint}" href="#OREnvironment.is_increment_feasible-Tuple{Int64, Real, Float64, OREnvironment.Constraint}"><code>OREnvironment.is_increment_feasible</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">is_increment_feasible(var, Δ, currentLHS, c)</code></pre><p>For a change of <code>Δ</code> in the value of variable <code>var</code>, returns if new left-hand side consumption in constraint <code>c</code> is feasible given the current consumption <code>currentLHS</code>.</p><p><strong>Example</strong></p><pre><code class="language-julia-repl">julia&gt; c = OREnvironment.constructConstraint(12.0, :lessOrEq, [1, 3, 4], [2.0, 5.0, 3.0]);
julia&gt; Δ = 3; currentLHS = 9.0;
julia&gt; OREnvironment.is_increment_feasible(1, Δ, currentLHS, c)
false # new lhs would be 15 which larger than 12</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DavidGarHeredia/OREnvironment.jl/blob/9caddec985d9dcaadb8faa53db9cfa98b110ecda/src/Constraints.jl#L316-L327">source</a></section></article><h3 id="Methods-where-type-Solution-is-also-involved"><a class="docs-heading-anchor" href="#Methods-where-type-Solution-is-also-involved">Methods where type Solution is also involved</a><a id="Methods-where-type-Solution-is-also-involved-1"></a><a class="docs-heading-anchor-permalink" href="#Methods-where-type-Solution-is-also-involved" title="Permalink"></a></h3><p>In these methods, an struct called solution is also involved. Check <a href="Level4.html#Solutions">Solutions</a> for a better understanding.</p><article class="docstring"><header><a class="docstring-binding" id="OREnvironment.is_increment_feasible-Tuple{OREnvironment.Solution, Vector{var&quot;#s1&quot;} where var&quot;#s1&quot;&lt;:OREnvironment.Constraint, Int64, Real, Vector{Int64}}" href="#OREnvironment.is_increment_feasible-Tuple{OREnvironment.Solution, Vector{var&quot;#s1&quot;} where var&quot;#s1&quot;&lt;:OREnvironment.Constraint, Int64, Real, Vector{Int64}}"><code>OREnvironment.is_increment_feasible</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">is_increment_feasible(s, vconstraints, var, Δ, idxConstraints)</code></pre><p>Given solution <code>s</code>, the constraints of the problem <code>vconstraints</code>, a change <code>Δ</code> (respect to the current solution <code>s</code>) in variable <code>var</code> and an Array with the constraint indexes where variable <code>var</code> appears, returns if the change is feasible or not.</p><p><strong>Note:</strong> That the change is feasible DOES NOT mean that the solution is feasible. Given a feasible solution, a feasible change implies that the new solution is still feasible. But given an infeasible solution, a feasible change means that the constraints where <code>var</code> appears are not violated by the current change. However, as the original solution was infeasible, the new one is still infeasible. If the return of the function is <code>false</code>, then the solution after the change is infeasible regardless of the original feasibility situation.</p><p>See examples in the file with the tests: <em>./test/Constraints.jl</em>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DavidGarHeredia/OREnvironment.jl/blob/9caddec985d9dcaadb8faa53db9cfa98b110ecda/src/Constraints.jl#L341-L349">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OREnvironment.is_current_consumption_feasible-Tuple{OREnvironment.Solution, Vector{var&quot;#s1&quot;} where var&quot;#s1&quot;&lt;:OREnvironment.Constraint}" href="#OREnvironment.is_current_consumption_feasible-Tuple{OREnvironment.Solution, Vector{var&quot;#s1&quot;} where var&quot;#s1&quot;&lt;:OREnvironment.Constraint}"><code>OREnvironment.is_current_consumption_feasible</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">is_current_consumption_feasible(s, vconstraints)</code></pre><p>Returns true if the current consumption associated with solution <code>s</code> is feasible respect to constraints <code>vconstraints</code>.</p><p><strong>Note:</strong> This function DOES NOT compute the current consumption of solution <code>s</code>. It just checks the last values saved in memory and compare them with the right-hand side values of the constraints. This is for efficiency reasons. Usually, given a solution <code>s</code>, when you locally modified it, it is possible to efficiently recompute the current consumption of the solution by just checking the constraints affected by the change. Therefore, to check feasibility it would be a waste of time to recompute the left-hand sides again instead of checking the values in memory.</p><p>If the lhs must be recomputed to check feasibility, use function <a href="Level1.html#OREnvironment.is_feasible-Tuple{OREnvironment.Solution, Vector{var&quot;#s1&quot;} where var&quot;#s1&quot;&lt;:OREnvironment.Constraint}"><code>is_feasible(s::OREnvironment.Solution, constraints::Array{&lt;:OREnvironment.Constraint,1})</code></a> instead.</p><p>See examples in the file with the tests: <em>./test/Constraints.jl</em>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DavidGarHeredia/OREnvironment.jl/blob/9caddec985d9dcaadb8faa53db9cfa98b110ecda/src/Constraints.jl#L365-L375">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OREnvironment.compute_lhs-Tuple{OREnvironment.Constraint, OREnvironment.Solution}" href="#OREnvironment.compute_lhs-Tuple{OREnvironment.Constraint, OREnvironment.Solution}"><code>OREnvironment.compute_lhs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">compute_lhs(c, s)</code></pre><p>Computes the consumption (left-hand side) of constraint <code>c</code> by solution <code>s</code>.</p><p><strong>Note:</strong> It returns the value of the lhs, but it DOES NOT modified the consumption status of solution <code>s</code>.</p><p>See examples in the file with the tests: <em>./test/Constraints.jl</em>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DavidGarHeredia/OREnvironment.jl/blob/9caddec985d9dcaadb8faa53db9cfa98b110ecda/src/Constraints.jl#L389-L397">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OREnvironment.is_feasible-Tuple{OREnvironment.Solution, Vector{var&quot;#s1&quot;} where var&quot;#s1&quot;&lt;:OREnvironment.Constraint}" href="#OREnvironment.is_feasible-Tuple{OREnvironment.Solution, Vector{var&quot;#s1&quot;} where var&quot;#s1&quot;&lt;:OREnvironment.Constraint}"><code>OREnvironment.is_feasible</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">is_feasible(s, vconstraints)</code></pre><p>Returns true if the consumption incurred by solution <code>s</code> is feasible respect to constraints <code>vconstraints</code>.</p><p><strong>Note:</strong> This function computes the left-hand sides of constraints using <code>s</code>, but it DOES NOT update the current consumption of solution <code>s</code>.</p><p><strong>Tip:</strong> If the lhs does not have to be recomputed, then check function <a href="Level1.html#OREnvironment.is_current_consumption_feasible-Tuple{OREnvironment.Solution, Vector{var&quot;#s1&quot;} where var&quot;#s1&quot;&lt;:OREnvironment.Constraint}"><code>is_current_consumption_feasible</code></a> for a better performance. Actually, that function should be preferred over <code>is_feasible(s, vconstraints)</code>.</p><p>See examples in the file with the tests: <em>./test/Constraints.jl</em>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DavidGarHeredia/OREnvironment.jl/blob/9caddec985d9dcaadb8faa53db9cfa98b110ecda/src/Constraints.jl#L409-L419">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OREnvironment.is_active-Tuple{OREnvironment.Constraint, OREnvironment.Solution}" href="#OREnvironment.is_active-Tuple{OREnvironment.Constraint, OREnvironment.Solution}"><code>OREnvironment.is_active</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">is_active(c, s)</code></pre><p>Returns true if constraint <code>c</code> is active under the consumption incurred by solution <code>s</code>. </p><p><strong>Note:</strong> This function computes the left-hand side of the constraint using <code>s</code>, but it DOES NOT update the current consumption of solution <code>s</code>.</p><p><strong>Tip:</strong> If the lhs does not have to be recomputed, then check function <a href="Level1.html#OREnvironment.is_active_under_current_consumption-Tuple{OREnvironment.Constraint, Int64, OREnvironment.Solution}"><code>is_active_under_current_consumption</code></a> for a better performance. Actually, that function should be preferred over this one.</p><p>See examples in the file with the tests: <em>./test/Constraints.jl</em>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DavidGarHeredia/OREnvironment.jl/blob/9caddec985d9dcaadb8faa53db9cfa98b110ecda/src/Constraints.jl#L432-L442">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="OREnvironment.is_active_under_current_consumption-Tuple{OREnvironment.Constraint, Int64, OREnvironment.Solution}" href="#OREnvironment.is_active_under_current_consumption-Tuple{OREnvironment.Constraint, Int64, OREnvironment.Solution}"><code>OREnvironment.is_active_under_current_consumption</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia">is_active_under_current_consumption(c, idx, s)</code></pre><p>Returns true if the <code>idx</code>-th constraint (<code>c</code>) is active under the consumption incurred by solution <code>s</code>. </p><p><strong>Note:</strong> This function DOES NOT compute the current consumption of solution <code>s</code>. It just checks the last value saved in memory and compare it with the right-hand side values of the constraint. That is why <code>idx</code> must be provided.</p><p>If the lhs must be recomputed, use function <a href="Level1.html#OREnvironment.is_active-Tuple{OREnvironment.Constraint, OREnvironment.Solution}"><code>is_active(c::OREnvironment.Constraint, s::OREnvironment.Solution)</code></a> instead.</p><p>See examples in the file with the tests: <em>./test/Constraints.jl</em>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/DavidGarHeredia/OREnvironment.jl/blob/9caddec985d9dcaadb8faa53db9cfa98b110ecda/src/Constraints.jl#L445-L455">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="index.html">« Home</a><a class="docs-footer-nextpage" href="Level2.html">Problem environment »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Tuesday 22 June 2021 18:20">Tuesday 22 June 2021</span>. Using Julia version 1.6.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
